{% extends 'base.html' %}
{% block title %}Upload Scans{% endblock %}

{% block body %}
<div class="uploads">
  <h2>Upload a Record</h2>

  <form class="upload-form" action="{{ url_for('upload_scan') }}" method="POST" enctype="multipart/form-data">
    
    <div class="form-group">
      <label for="file">Scan File:</label>
      <input type="file" name="file" id="file" required>
    </div>

    <div class="form-group">
      <label for="description">Description:</label>
      <input type="text" name="description" id="description" placeholder="e.g. Chest X-ray, Blood Report">
    </div>

    <div class="form-group">
      <label for="patient_id">Select Patient:</label>
      <select name="patient_id" id="patient_id">
        <option value="">-- Select Patient --</option>
        {% for patient in patients %}
          <option value="{{ patient.id }}">{{ patient.name }} (DOB: {{ patient.dob }})</option>
        {% endfor %}
      </select>
    </div>

    <div class="form-group">
      <label for="mch_number">MCH Number (required if no patient selected):</label>
      <input type="text" name="mch_number" id="mch_number" placeholder="e.g. MCH12345">
    </div>
  
    <div class="form-group">
      <label for="national_id">National ID (optional):</label>
      <input type="text" name="national_id" id="national_id" placeholder="e.g. 12-3456789Q50">
    </div>

    <button type="submit">Upload</button>
  </form>  
</div>

{% endblock %}
